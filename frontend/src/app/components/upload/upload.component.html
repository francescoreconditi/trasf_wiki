<div class="upload-container">
  <h2>Upload Document</h2>
  <p class="subtitle">Supported formats: PDF, DOCX, ODT, RTF</p>

  <div class="upload-form">
    <input
      type="file"
      accept=".pdf,.docx,.odt,.rtf"
      (change)="onFileSelected($event)"
      [disabled]="loading"
    />

    <div class="file-info" *ngIf="selectedFile">
      Selected: <strong>{{ selectedFile.name }}</strong> ({{ (selectedFile.size / 1024 / 1024).toFixed(2) }} MB)
    </div>

    <button (click)="onSubmit()" [disabled]="!selectedFile || loading">
      {{ loading ? 'Converting...' : 'Convert to MediaWiki' }}
    </button>

    <button *ngIf="result" (click)="reset()" class="secondary">
      Convert Another File
    </button>
  </div>

  <div class="loading" *ngIf="loading">
    Processing your document... This may take a moment.
  </div>

  <div class="error" *ngIf="error">
    {{ error }}
  </div>

  <div class="result-section" *ngIf="result">
    <app-result [result]="result"></app-result>
    <app-gallery [images]="result.images" [jobId]="result.id"></app-gallery>
  </div>
</div>
